!function(e,t){"use strict";var i=function(){return new i.init},l={h1:'<div class="hover"><i class="hover__full"></i><ul class="hover__buttons"><li class="hover__item edit"></li><li class="hover__item copy"></li><li class="hover__item delete"></li></ul></div><div class="adding_content"><h1 contenteditable="true">Редагувати текст H1</h1></div>',h2:'<div class="hover"><i class="hover__full"></i><ul class="hover__buttons"><li class="hover__item edit"></li><li class="hover__item copy"></li><li class="hover__item delete"></li></ul></div><div class="adding_content"><h2 contenteditable="true">Редагувати текст H2</h2></div>',excerption:'<div class="hover"><i class="hover__full"></i><ul class="hover__buttons"><li class="hover__item edit"></li><li class="hover__item copy"></li><li class="hover__item delete"></li></ul></div><div class="adding_content"><q contenteditable="true">Редагувати текст цитати</q></div>',text:'<div class="hover"><i class="hover__full"></i><ul class="hover__buttons"><li class="hover__item edit"></li><li class="hover__item copy"></li><li class="hover__item delete"></li></ul></div><div class="adding_content"><p contenteditable="true">Редагувати текст</p></div>',"broke-line":'<div class="hover"><i class="hover__full"></i><ul class="hover__buttons"><li class="hover__item edit"></li><li class="hover__item copy"></li><li class="hover__item delete"></li></ul></div><div class="adding_content"><hr></div>',count:'<div class="hover"><i class="hover__full"></i><ul class="hover__buttons"><li class="hover__item edit"></li><li class="hover__item copy"></li><li class="hover__item delete"></li></ul></div><div class="adding_content"><div class="center__right"><h3>Щоб активувати лічильник, додайте лінк на свою сторінку на сайті УББ</h3><div class="center__counter"><div class="center__process"></div></div><button class="center__button">Допомогти</button></div></div>'},s=function(){var e=t(".content_draggable");t("#sortable").sortable({revert:!0,sort:function(e,t){},handle:".hover__full"}),e.draggable({connectToSortable:"#sortable",helper:"clone",revert:"invalid",stop:function(e,t){},drag:function(e,t){}}),t("ul, li").disableSelection(),e.on("drag",function(e,t){var i=t.helper[0],s=i.dataset.type;s&&l.hasOwnProperty(s)&&(i.innerHTML=l[s])})},o=function(e){return e.remove()},a=function(e){return t("#sortable").append(e.clone())},r=function(e){t(".elements").hide(),t("[class ^= element__]").hide(),t(".element__"+e.type).show()};i.prototype={modifyPage:function(e){switch(!0){case e.hasClass("delete"):o(e.parents(".sort_list"));break;case e.hasClass("copy"):a(e.parents(".sort_list"));break;case e.hasClass("edit"):r(e.parents(".sort_list")[0].dataset),console.log("edit")}},savePage:function(e){if(localStorage.user){var i=JSON.parse(localStorage.user),l=i.idUser,s=CryptoJS.HmacSHA1(l+e,i.secret.toString()).toString();t.ajax({method:"POST",url:"api/css/setPage",data:{idUser:l,data:e,hash:s},statusCode:{201:function(e){return!0},404:function(){return!1}}})}else window.location.href="/"}},i.init=function(){s()},i.init.prototype=i.prototype,e.uawcapp.Widgets=i}(window,jQuery);